"use strict";

var _require = require('os'),
    EOL = _require.EOL;

var getFirstRegexpMatchOrDefault = function getFirstRegexpMatchOrDefault(text, regexp, defaultValue) {
  regexp.lastIndex = 0; // https://stackoverflow.com/a/11477448/4536543

  var match = regexp.exec(text);
  if (match !== null) return match[1];
  return defaultValue;
};

var DEFAULT_INDENT = '  ';
var INDENT_REGEXP = /^([ \t]+)[^\s]/m;

module.exports.detectIndent = function (text) {
  return getFirstRegexpMatchOrDefault(text, INDENT_REGEXP, DEFAULT_INDENT);
};

module.exports.DEFAULT_INDENT = DEFAULT_INDENT;
var DEFAULT_EOL = EOL;
var EOL_REGEXP = /(\r\n|\n|\r)/g;

module.exports.detectEOL = function (text) {
  return getFirstRegexpMatchOrDefault(text, EOL_REGEXP, DEFAULT_EOL);
};

module.exports.DEFAULT_EOL = DEFAULT_EOL;