"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.maybeAsyncResult = maybeAsyncResult;

var _isPromise = require("./is-promise.js");

function maybeAsyncResult(getResult, resultHandler) {
  var errorHandler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (err) {
    throw err;
  };

  try {
    var result = isFunction(getResult) ? getResult() : getResult;
    return (0, _isPromise.isPromise)(result) ? result.then(function (result) {
      return resultHandler(result);
    }) : resultHandler(result);
  } catch (err) {
    return errorHandler(err);
  }
}

function isFunction(arg) {
  return typeof arg === 'function';
}